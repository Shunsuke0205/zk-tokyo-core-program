## 1. QAPのトレースがなぜ加算ゲートの出力を記録しなくてもいいのか、理由を説明してください。（ヒント: Linear PCP）

QAPやLinear PCPにおいては、加算処理は実際には加算ゲートの段階では行われず、評価が遅延され、その加算ゲート以降に初めて現れる乗算ゲートの入力時にまとめて加算されるとみなすことができる。加算されるべき個々の値は乗算ゲートのセレクタで選択されるため、加算ゲートの出力をわざわざトレースとして持たせる必要はない。

---

## 2. 講義で紹介された算術回路とセレクター多項式をもとにマスター多項式p(x)と商多項式q(x)を一つ考えてください。

#### マスター多項式p(x)

$$
<LaTex形式で記述>
$$

#### 商多項式q(x)

$$
<LaTex形式で記述>
$$

---

## 3. Linear PCPベースのSNARKとGroth16がどのような安全性仮定に基づいているか説明してください。(ヒント: Generic Group Model, KoE Assumption)

Linear PCPベースのSNARKであるPinocchioの健全性は **KoE (Knowledge of Exponent) Assumption** に基づいて示される。

Groth16の健全性は **Generic Group Model** に基づいて示される。

KoE Assumptionを採用する場合、パラメータの個数を約2倍に増やす必要がある。
一方、Generic Group Modelを採用する場合はパラメータの追加は不要。

ただしGeneric Group Modelの下で示された安全性は、実際の群ではなく理想化された群(Generic Group)を前提にしたものなので、現実の群が持つ固有の性質で安全性が破られる可能性を残す、限定的なものでしかない。(が、よく使われているように見える)

KoE Assumptionも少し特殊な仮定で、
$g$ と $g^\alpha$ を与えられた攻撃者が
$h$ と $h^\alpha$ を出力できたなら、
攻撃者は必ず $h = g^x$ となる $x$ を知っていて、
$h^\alpha \gets (g^\alpha)^x$ として $h^\alpha$ を生成したに違いない。
なので攻撃者から $x$ を抽出できる Extractor が構成できる！
というもの。(このためにわざわざ $g^\alpha$ 達を導入してパラメータサイズが倍増する)
離散対数仮定やDH仮定のような標準的な仮定とは毛色が違うので敬遠されることもある(らしい)が、Generic Group Modelに比べるとより現実的と言える(らしい)。

---